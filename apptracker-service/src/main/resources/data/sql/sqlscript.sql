
DROP  TABLE CANDIDATE_INFO;
CREATE TABLE CANDIDATE_INFO (
	AID BIGINT  PRIMARY KEY,
	LAST_NAME VARCHAR(100) NOT NULL,
	FIRST_NAME VARCHAR(100) NOT NULL,
	MID_INITIAL  VARCHAR(3),
	PREF_FIRST_NAME VARCHAR(100) ,
	EMAIL VARCHAR(100) NOT NULL,
	CONTACT_PHONE VARCHAR(13) NOT NULL
);

INSERT INTO CANDIDATE_INFO (AID, LAST_NAME, FIRST_NAME, PREF_FIRST_NAME, EMAIL, CONTACT_PHONE) VALUES (1111,'GARIMELLA','SURYA','MURTHY','MURTHY@MTY.COM','+011234567890');

DROP TABLE CONTRACT_INFO;

CREATE TABLE CONTRACT_INFO (
	AID BIGINT  NOT NULL PRIMARY KEY   REFERENCES CANDIDATE_INFO(AID),
	APPPROVED_CONTACT_NUM BIGINT  NOT NULL,
	CONTRACT_END_DTE DATE,
	CW_ASSIGNMENT_END_DTE DATE,
	CANDIDATE_ROLE_TYP VARCHAR(20),
	RETURN_STATUS VARCHAR(10),
	FORMAER_WORKER INTEGER,
	PRIOR_SID VARCHAR(10),
	PRIOR_DATES VARCHAR(20),
	SUPPLIER_NAME VARCHAR(50),
	CW_WORK_CITY VARCHAR(20),
	CW_WORK_LOCATION VARCHAR(20),
	CW_WORK_MAIL_DROP VARCHAR(20),
	HOME_ZIP VARCHAR(12),
	US_ARMED_FORCES INTEGER,
	REGISTERED_NOTARY_PUBLIC INTEGER,
	CSI_INFO_ACCESS INTEGER,
	candidate_referred_to_you INTEGER,
	REFERRAL_ORIGINATE VARCHAR(100),
	candiate_seleted_within_guidelines INTEGER,
	CURRENT_ADDRESS VARCHAR(150),
	SERVICE_TYPE VARCHAR(50),
	itornonit VARCHAR(10),
	fullorpart_time VARCHAR(10),
	PAYMENT_TYPE VARCHAR(20),
	COST_CENTER VARCHAR(10),
	CW_JOB_CODE VARCHAR(10),
	LOB_NAME VARCHAR(10),
	CW_ASSIGNMENT_START_DTE DATE,
	SPONSOR_ID VARCHAR(15),
	SPONSOR_LAST_NAME VARCHAR(20),
	SPONSOR_FIRST_NAME VARCHAR(10),
	EMAIL_REQUIRED INTEGER,
	SPOC_EMAIL VARCHAR(50)

);

ALTER TABLE `apptracker`.`contract_info`
ADD CONSTRAINT `F_AID`
  FOREIGN KEY (`AID`)
  REFERENCES `apptracker`.`candidate_info` (`AID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

INSERT INTO CONTRACT_INFO
('AID',
	'APPPROVED_CONTACT_NUM',
	'CONTRACT_END_DTE',
	'CW_ASSIGNMENT_END_DTE',
	'CANDIDATE_ROLE_TYP',
	'RETURN_STATUS',
	'FORMAER_WORKER',
	'PRIOR_SID',
	'PRIOR_DATES',
	'SUPPLIER_NAME',
	'CW_WORK_CITY',
	'CW_WORK_LOCATION',
	'CW_WORK_MAIL_DROP',
	'HOME_ZIP',
	'US_ARMED_FORCES',
	'REGISTERED_NOTARY_PUBLIC',
	'CSI_INFO_ACCESS',
	'candidate_referred_to_you',
	'REFERRAL_ORIGINATE',
	'candiate_seleted_within_guidelines',
	'CURRENT_ADDRESS',
	'SERVICE_TYPE',
	'itornonit',
	'fullorpart_time',
	'PAYMENT_TYPE',
	'COST_CENTER',
	'CW_JOB_CODE',
	'LOB_NAME',
	'CW_ASSIGNMENT_START_DTE',
	'SPONSOR_ID',
	'SPONSOR_LAST_NAME',
	'SPONSOR_FIRST_NAME',
	'EMAIL_REQUIRED',
	'SPOC_EMAIL')
	VALUES
	(1111,
	 2121,
	'2017-07-18',
	'2017-07-19',
	'Contingent Worker',
	'New',
	1,
	null,
	null,
	'Supplier',
	'New york',
	'Columbus',
	'Mail Drp',
	'10000',
	1,
	0,
	1,
	1,
	'2017-07-20',
	1,
	'4000, New york',
	'Service Type',
	'IT',
	'Full',
	'Fixed price',
	'cosr cen',
	'JOB 20202',
	'Digital',
	'2017-07-21',
	'SPONSORID-1',
	'SP LNAME',
	'SP FNAME',
	1,
	'abc@abc.com'
	);

DROP TABLE IF EXISTS ONBOARDING_STATUS;

CREATE TABLE ONBOARDING_STATUS (
	AID BIGINT  NOT NULL PRIMARY KEY   REFERENCES CANDIDATE_INFO(AID),
	BG_CHECK BIGINT  NOT NULL ,
	BG_CHECK_UPD_TM TIMESTAMP DEFAULT   CURRENT_TIMESTAMP ,
	DEMOGRAPH BIGINT,
	DEMOGRAPH_UPD_TM TIMESTAMP  DEFAULT   CURRENT_TIMESTAMP ,
	CURRENT_STATUS BIGINT NOT NULL,
	CURRENT_STATUS_UPD_TM TIMESTAMP  DEFAULT   CURRENT_TIMESTAMP ,
    COMMENTS VARCHAR(200),
	LAST_UPD_TM TIMESTAMP DEFAULT   CURRENT_TIMESTAMP ,
	LAST_UPD_BY VARCHAR(20),
	URL_STRING VARCHAR(30),
	URL_CREATED_TM TIMESTAMP DEFAULT CURRENT_TIMESTAMP
	);

ALTER TABLE APPTRACKER.ONBOARDING_STATUS
ADD CONSTRAINT FK_AID
  FOREIGN KEY (AID)
  REFERENCES APPTRACKER.CANDIDATE_INFO (AID)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

INSERT INTO apptracker.onboarding_status
(AID,
BG_CHECK,
BG_CHECK_UPD_TM,
DEMOGRAPH,
DEMOGRAPH_UPD_TM,
 CURRENT_STATUS,
 CURRENT_STATUS_UPD_TM,
COMMENTS,
LAST_UPD_TM,
LAST_UPD_BY)
VALUES
(1111 ,
 100 ,
NOW(),
200 ,
NOW(),
102 ,
NOW(),
"Sample comments",
NOW(),
"Mike");
---------
DROP TABLE IF EXISTS USERS;

CREATE TABLE USERS (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    F_NAME VARCHAR(45) NOT NULL,
    L_NAME VARCHAR(45) NOT NULL,
    EMAIL VARCHAR(45) NOT NULL,
    ROLE INT NOT NULL
    );

INSERT INTO USERS (F_NAME,L_NAME,EMAIL,ROLE) VALUES('Murthy',	'G',	'murthy@abc.com',	100);
INSERT INTO USERS (F_NAME,L_NAME,EMAIL,ROLE) VALUES('Milan',	'S',	'milan@abc.com',	101);
INSERT INTO USERS (F_NAME,L_NAME,EMAIL,ROLE) VALUES('Satish',	'V',	'satish@abc.com',	102);
INSERT INTO USERS (F_NAME,L_NAME,EMAIL,ROLE) VALUES('Rajaneesh',	'K',	'raja@abc.com',	103);



